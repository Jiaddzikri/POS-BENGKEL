import{j as e,r as d,S as R,$ as oe,b as M,R as ce,m as Ye,L as Xe}from"./app-DU2ribiw.js";import{n as ie,g as Je}from"./number-format-C9-KG7aE.js";import{B as S,a as J}from"./button-CW_BygfF.js";import{D as le,a as de,b as ue,c as me,d as xe,e as pe,f as fe}from"./dialog-DwNU_WNq.js";import{I as $}from"./input-DRGjZ_Fc.js";import{L as Y}from"./label-_NFcsuFK.js";import{S as U,a as G,b as V,c as z,d as C,C as he}from"./select-BvX41nsz.js";import{P as Ze}from"./plus-2zmbfM6P.js";import{L as O}from"./index-DUB01RiQ.js";import{a as ve,S as ge}from"./index.module-CKLkyo3k.js";import{F as je}from"./filter-GVI5UFDH.js";import{X as Ne}from"./x-Bee98Yzc.js";import{D as ye}from"./download-B_uNjFTe.js";import{P as E}from"./package-BbxoBmR0.js";import{T as be}from"./triangle-alert-BSqGlCEf.js";import{d as _e,P as He,a as et,C as tt,b as st,c as nt}from"./popover-a-v8YfAw.js";import{C as Se,f as rt,A as at}from"./app-layout-u2djOQda.js";import{c as ot}from"./createLucideIcon-Du4cilnx.js";import{S as ct}from"./input-DFj5_SXz.js";import{f as I}from"./setYear-oS4mZueu.js";import"./index-CqT6Fen0.js";import{c as B}from"./utils-jAU0Cazi.js";import{t as se}from"./index-Dx_FcIva.js";/* empty css            */import"./index-8iJUX0HI.js";import"./index-BFHOmMwe.js";import"./index-CUOMgGua.js";import"./index-dU2Z2OwV.js";import"./check-BH0nM-99.js";import"./differenceInCalendarDays-D_tGss6D.js";import"./disabled-DZY9BukL.js";import"./render-Bk8bJzw1.js";import"./use-sync-refs-B6MvusC4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],lt=ot("MoveDown",it);function dt({items:t,handleSubmit:s,data:a,handleInputChange:r,isModalOpen:n,setModalOpen:l}){return e.jsx("div",{className:"px-6 py-2",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm",children:"Manage your inventory"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsxs(le,{open:n,onOpenChange:l,children:[e.jsx(de,{asChild:!0,children:e.jsxs(S,{className:"inline-flex items-center rounded-md border border-transparent bg-blue-600 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",children:[e.jsx(Ze,{}),"Stock Adjusment"]})}),e.jsxs(ue,{children:[e.jsxs(me,{children:[e.jsx(xe,{children:"Adjust Stock"}),e.jsx(pe,{children:"Select Item and Adjust its Quantity"})]}),e.jsxs("form",{onSubmit:s,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(Y,{children:"Item"}),e.jsxs(U,{value:a.variant_id??void 0,onValueChange:i=>r("variant_id",i),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Item Name"})}),e.jsx(z,{children:t.map((i,m)=>e.jsx(C,{value:i.variant_id,children:`${i.item_name} ${i.sku}`},m))})]})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Adjustment Type"}),e.jsxs(U,{onValueChange:i=>r("adjust_type",i),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Adjustment Type"})}),e.jsxs(z,{children:[e.jsx(C,{value:"add-stock",children:"Add Stock"}),e.jsx(C,{value:"remove-stock",children:"Remove Stock"}),e.jsx(C,{value:"adjust-stock",children:"Adjust Stock"})]})]})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Quantity"}),e.jsx($,{value:ie(a.quantity),type:"text",inputMode:"numeric",onChange:i=>r("quantity",parseInt(Je(i.target.value)))})]}),e.jsx(fe,{children:e.jsx(S,{className:"bg-blue-600",type:"submit",children:"Adjust stock"})})]})]})]})})]})})}function ut({inventoryData:t,filters:s,data:a,handleSubmit:r,handleInputChange:n,isModalOpen:l,setModalOpen:i}){const{data:m,meta:o,links:c}=t,[u,p]=d.useState(s.search||""),[h,N]=d.useState(!1),[y,j]=d.useState(s.stock_condition||""),[f]=ve(u,300),_=y||u,v=()=>{p(""),j(""),R.get(route("inventory.index"),{search:"",stock_condition:"",page:1})},g=x=>{const w={search:u,stock_condition:y,page:x};R.get(route("inventory.index"),w,{preserveState:!0,preserveScroll:!0,replace:!0})};return d.useEffect(()=>{const x={search:u,stock_condition:y,page:1};R.get(route("inventory.index"),x,{preserveState:!0,preserveScroll:!0,replace:!0})},[f,y]),e.jsxs("div",{className:"space-y-3 overflow-x-auto rounded-lg border px-6 py-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm",children:"Manage your inventory"})]}),e.jsxs("div",{className:"flex max-w-md gap-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform"}),e.jsx($,{onChange:x=>p(x.target.value),value:u,type:"text",placeholder:"Search items...",className:"w-full rounded-md border py-2 pr-4 pl-9 text-sm focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",onClick:()=>N(!h),className:"flex items-center",children:[e.jsx(je,{}),"Filters",e.jsx(he,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]}),_&&e.jsxs(S,{variant:"ghost",onClick:v,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Clear All"]})]}),e.jsxs(oe,{href:route("inventory.print",{search:u,stock_condition:y,export_type:"inventory"}),target:"_blank",className:"inline-flex items-center rounded-md border px-3 py-2 text-sm font-medium transition-colors",children:[e.jsx(ye,{className:"mr-2 h-4 w-4"}),"Export"]})]}),h&&e.jsx("div",{className:"borderp-4 rounded-lg",children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:e.jsxs("div",{children:[e.jsx(O,{className:"mb-2 block text-xs font-medium tracking-wide uppercase",children:"Stock Condition"}),e.jsxs(U,{value:y,onValueChange:x=>j(x),children:[e.jsx(G,{className:"w-full",children:e.jsx(V,{placeholder:"Pilih Kondisi Stok"})}),e.jsxs(z,{children:[e.jsx(C,{value:"low",children:"Low Stock"}),e.jsx(C,{value:"normal",children:"Normal Stock"}),e.jsx(C,{value:"out_of_stock",children:"Out of Stock"})]})]})]})})}),m.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No inventory items found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Item"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Current Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium tracking-wider uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:m.map((x,w)=>e.jsxs("tr",{className:"text-left",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100",children:e.jsx(E,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium",children:x.item_name})})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono text-sm",children:x.sku})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-sm font-medium ${x.low_stock?"text-orange-600":"text-green-600"}`,children:x.stock}),x.low_stock&&e.jsx(be,{className:"ml-2 h-4 w-4 text-orange-500"})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-medium",children:x.category_name})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:"text-sm font-medium",children:["Rp ",x.price.toLocaleString("id-ID")]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${x.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex items-center justify-center space-x-2",children:e.jsxs(le,{children:[e.jsx(de,{asChild:!0,children:e.jsx(S,{onClick:()=>n("variant_id",x.variant_id),className:"bg-blue-600 text-white transition-colors hover:bg-blue-700",size:"sm",children:"Adjust Stock"})}),e.jsxs(ue,{children:[e.jsxs(me,{children:[e.jsx(xe,{children:"Adjust Stock"}),e.jsx(pe,{children:"Select Item and Adjust its Quantity"})]}),e.jsxs("form",{onSubmit:r,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(O,{className:"mb-1 block text-sm font-medium",children:"Item"}),e.jsx($,{onChange:b=>n("variant_id",b.target.value),value:`${x.item_name} (${x.sku})`,readOnly:!0,disabled:!0,className:"border"})]}),e.jsxs("div",{children:[e.jsx(O,{className:"mb-1 block text-sm font-medium",children:"Adjustment Type"}),e.jsxs(U,{onValueChange:b=>n("adjust_type",b),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Select adjustment type"})}),e.jsxs(z,{children:[e.jsx(C,{value:"add-stock",children:"Add Stock"}),e.jsx(C,{value:"remove-stock",children:"Remove Stock"}),e.jsx(C,{value:"adjust-stock",children:"Adjust Stock"})]})]})]}),e.jsxs("div",{children:[e.jsx(O,{className:"mb-1 block text-sm font-medium",children:"Quantity"}),e.jsx($,{onChange:b=>n("quantity",b.target.value),value:ie(a.quantity),type:"text",inputMode:"numeric",placeholder:"Enter quantity"})]}),e.jsx(fe,{children:e.jsx(S,{className:"bg-blue-600 text-white hover:bg-blue-700",type:"submit",children:"Adjust Stock"})})]})]})]})})})]},x.variant_id||w))})]})}),o.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-700",children:e.jsx("span",{})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>g(o.current_page-1),disabled:o.current_page===1,className:"flex items-center gap-1",children:[e.jsx(_e,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[o.current_page>3&&e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:o.current_page===1?"default":"outline",size:"sm",onClick:()=>g(1),className:"min-w-[40px]",children:"1"}),o.current_page>4&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,o.last_page)},(x,w)=>{let b;return o.last_page<=5||o.current_page<=3?b=w+1:o.current_page>=o.last_page-2?b=o.last_page-4+w:b=o.current_page-2+w,b<1||b>o.last_page||o.current_page>3&&b===1||o.current_page<o.last_page-2&&b===o.last_page?null:e.jsx(S,{variant:b===o.current_page?"default":"outline",size:"sm",onClick:()=>g(b),className:"min-w-[40px]",children:b},b)}),o.current_page<o.last_page-2&&e.jsxs(e.Fragment,{children:[o.current_page<o.last_page-3&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx(S,{variant:o.last_page===o.current_page?"default":"outline",size:"sm",onClick:()=>g(o.last_page),className:"min-w-[40px]",children:o.last_page})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>g(o.current_page+1),disabled:o.current_page===o.last_page,className:"flex items-center gap-1",children:["Next",e.jsx(Se,{className:"h-4 w-4"})]})]})]})]})}function mt({stats:t}){return e.jsx("div",{className:"px-6 py-2",children:e.jsxs("div",{className:"mb-3 grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Total Active Items"}),e.jsx("p",{className:"text-2xl font-semibold",children:t.active_item})]}),e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(E,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:t.low_stock})]}),e.jsx("div",{className:"rounded-lg bg-orange-100 p-2",children:e.jsx(be,{className:"h-6 w-6 text-orange-600"})})]})}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-semibold",children:t.out_of_stock})]}),e.jsx("div",{className:"rounded-lg bg-red-100 p-2",children:e.jsx(lt,{className:"h-6 w-6 text-red-600"})})]})}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Stock Movements"}),e.jsx("p",{className:"text-2xl font-semibold",children:t.stock_movement})]}),e.jsx("div",{className:"rounded-lg bg-purple-100 p-2",children:e.jsx(rt,{className:"h-6 w-6 text-purple-600"})})]})})]})})}function xt({stockMovementData:t,filters:s}){const{data:a,links:r,meta:n}=t,[l,i]=d.useState((s==null?void 0:s.search)||""),[m,o]=d.useState(!1),[c,u]=d.useState({from:s!=null&&s.startDate?new Date(s.startDate):void 0,to:s!=null&&s.endDate?new Date(s.endDate):void 0}),[p,h]=d.useState((s==null?void 0:s.stock_condition)||""),[N]=ve(l,300),y=p||l||c.from||c.to,j=()=>{if(!c.from||!c.to){alert("Silakan pilih tanggal mulai dan akhir.");return}const v={search_stock_movement:l,stock_condition:p,startDate:I(c.from,"yyyy-MM-dd"),endDate:I(c.to,"yyyy-MM-dd"),page:1};R.get(route("inventory.index"),v,{preserveState:!0,preserveScroll:!0,replace:!0})},f=v=>{const g={search_stock_movement:l,stock_condition:p,startDate:c.from?I(c.from,"yyyy-MM-dd"):"",endDate:c.to?I(c.to,"yyyy-MM-dd"):"",page:v};R.get(route("inventory.index"),g,{preserveState:!0,preserveScroll:!0,replace:!0})},_=()=>{i(""),h(""),u({from:void 0,to:void 0}),R.get(route("inventory.index"),{search_stock_movement:"",stock_condition:"",startDate:"",endDate:"",page:1})};return d.useEffect(()=>{const v={search_stock_movement:l,stock_condition:p};R.get(route("inventory.index"),v,{preserveState:!0,preserveScroll:!0,replace:!0})},[N,p]),e.jsxs("div",{className:"space-y-3 overflow-x-auto rounded-lg border px-6 py-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Stock Movement"}),e.jsx("p",{className:"mt-1 text-sm",children:"Track Your Item Stock Movement"})]}),e.jsxs("div",{className:"flex max-w-md gap-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform"}),e.jsx(ct,{onChange:v=>i(v.target.value),value:l,type:"text",placeholder:"Search items...",className:"w-full rounded-md border py-2 pr-4 pl-9 text-sm focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",onClick:()=>o(!m),className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Filters",e.jsx(he,{className:`h-4 w-4 transition-transform ${m?"rotate-180":""}`})]}),e.jsxs(oe,{href:route("inventory.print",{search_stock_movement:l,stock_condition:p,startDate:c.from?I(c.from,"yyyy-MM-dd"):"",endDate:c.to?I(c.to,"yyyy-MM-dd"):"",page:s.page,export_type:"stock_movement"}),target:"_blank",className:"inline-flex items-center rounded-md border px-3 py-2 text-sm font-medium transition-colors",children:[e.jsx(ye,{className:"mr-2 h-4 w-4"}),"Export"]}),y&&e.jsxs(S,{variant:"ghost",onClick:_,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Clear All"]})]})]}),m&&e.jsx("div",{className:"space-y-4 rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(He,{children:[e.jsx(et,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"min-w-[240px] justify-start text-left font-normal",children:[e.jsx(tt,{className:"mr-2 h-4 w-4"}),c!=null&&c.from?c.to?e.jsxs(e.Fragment,{children:[I(c.from,"LLL dd, y")," - ",I(c.to,"LLL dd, y")]}):I(c.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(st,{className:"w-auto p-0",align:"start",children:e.jsx(nt,{mode:"range",defaultMonth:c==null?void 0:c.from,selected:c,onSelect:v=>{u(v||{from:void 0,to:void 0})},numberOfMonths:2,required:!1})})]}),e.jsx(S,{onClick:j,disabled:!c.from||!c.to,children:"Terapkan Tanggal"})]})}),t.data.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No stock movement records found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Date & Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Item Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Quantity"})]})}),e.jsx("tbody",{className:"divide-y",children:t.data.map((v,g)=>e.jsxs("tr",{className:"text-left",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100",children:e.jsx(E,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium",children:v.created_at})})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono text-sm",children:v.item_name})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono text-sm",children:v.sku})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${v.stock_in>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.stock_in>0?"Stock In":"Stock Out"})})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`text-sm font-medium ${v.stock_in>0?"text-green-600":"text-red-600"}`,children:v.stock_in>0?`+${v.stock_in}`:`-${v.stock_out}`})})]},v.variant_id||g))})]})}),n.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>f(n.current_page-1),disabled:n.current_page===1,className:"flex items-center gap-1",children:[e.jsx(_e,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[n.current_page>3&&e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:n.current_page===1?"default":"outline",size:"sm",onClick:()=>f(1),className:"min-w-[40px]",children:"1"}),n.current_page>4&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,n.last_page)},(v,g)=>{let x;return n.last_page<=5||n.current_page<=3?x=g+1:n.current_page>=n.last_page-2?x=n.last_page-4+g:x=n.current_page-2+g,x<1||x>n.last_page||n.current_page>3&&x===1||n.current_page<n.last_page-2&&x===n.last_page?null:e.jsx(S,{variant:x===n.current_page?"default":"outline",size:"sm",onClick:()=>f(x),className:"min-w-[40px]",children:x},x)}),n.current_page<n.last_page-2&&e.jsxs(e.Fragment,{children:[n.current_page<n.last_page-3&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx(S,{variant:n.last_page===n.current_page?"default":"outline",size:"sm",onClick:()=>f(n.last_page),className:"min-w-[40px]",children:n.last_page})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>f(n.current_page+1),disabled:n.current_page===n.last_page,className:"flex items-center gap-1",children:["Next",e.jsx(Se,{className:"h-4 w-4"})]})]})]})]})}function T(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t==null||t(n),a===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function H(t,s=[]){let a=[];function r(l,i){const m=d.createContext(i),o=a.length;a=[...a,i];const c=p=>{var _;const{scope:h,children:N,...y}=p,j=((_=h==null?void 0:h[t])==null?void 0:_[o])||m,f=d.useMemo(()=>y,Object.values(y));return e.jsx(j.Provider,{value:f,children:N})};c.displayName=l+"Provider";function u(p,h){var j;const N=((j=h==null?void 0:h[t])==null?void 0:j[o])||m,y=d.useContext(N);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[c,u]}const n=()=>{const l=a.map(i=>d.createContext(i));return function(m){const o=(m==null?void 0:m[t])||l;return d.useMemo(()=>({[`__scope${t}`]:{...m,[t]:o}}),[m,o])}};return n.scopeName=t,[r,pt(n,...s)]}function pt(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(l){const i=r.reduce((m,{useScope:o,scopeName:c})=>{const p=o(l)[`__scope${c}`];return{...m,...p}},{});return d.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}function ne(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function ft(...t){return s=>{let a=!1;const r=t.map(n=>{const l=ne(n,s);return!a&&typeof l=="function"&&(a=!0),l});if(a)return()=>{for(let n=0;n<r.length;n++){const l=r[n];typeof l=="function"?l():ne(t[n],null)}}}}function K(...t){return d.useCallback(ft(...t),t)}function ht(t){const s=t+"CollectionProvider",[a,r]=H(s),[n,l]=a(s,{collectionRef:{current:null},itemMap:new Map}),i=j=>{const{scope:f,children:_}=j,v=M.useRef(null),g=M.useRef(new Map).current;return e.jsx(n,{scope:f,itemMap:g,collectionRef:v,children:_})};i.displayName=s;const m=t+"CollectionSlot",o=J(m),c=M.forwardRef((j,f)=>{const{scope:_,children:v}=j,g=l(m,_),x=K(f,g.collectionRef);return e.jsx(o,{ref:x,children:v})});c.displayName=m;const u=t+"CollectionItemSlot",p="data-radix-collection-item",h=J(u),N=M.forwardRef((j,f)=>{const{scope:_,children:v,...g}=j,x=M.useRef(null),w=K(f,x),b=l(u,_);return M.useEffect(()=>(b.itemMap.set(x,{ref:x,...g}),()=>void b.itemMap.delete(x))),e.jsx(h,{[p]:"",ref:w,children:v})});N.displayName=u;function y(j){const f=l(t+"CollectionConsumer",j);return M.useCallback(()=>{const v=f.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${p}]`));return Array.from(f.itemMap.values()).sort((b,D)=>g.indexOf(b.ref.current)-g.indexOf(D.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:i,Slot:c,ItemSlot:N},y,r]}var q=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},vt=ce[" useId ".trim().toString()]||(()=>{}),gt=0;function we(t){const[s,a]=d.useState(vt());return q(()=>{a(r=>r??String(gt++))},[t]),t||(s?`radix-${s}`:"")}var jt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F=jt.reduce((t,s)=>{const a=J(`Primitive.${s}`),r=d.forwardRef((n,l)=>{const{asChild:i,...m}=n,o=i?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...m,ref:l})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function Nt(t){const s=d.useRef(t);return d.useEffect(()=>{s.current=t}),d.useMemo(()=>(...a)=>{var r;return(r=s.current)==null?void 0:r.call(s,...a)},[])}var yt=ce[" useInsertionEffect ".trim().toString()]||q;function ke({prop:t,defaultProp:s,onChange:a=()=>{},caller:r}){const[n,l,i]=bt({defaultProp:s,onChange:a}),m=t!==void 0,o=m?t:n;{const u=d.useRef(t!==void 0);d.useEffect(()=>{const p=u.current;p!==m&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=m},[m,r])}const c=d.useCallback(u=>{var p;if(m){const h=_t(u)?u(t):u;h!==t&&((p=i.current)==null||p.call(i,h))}else l(u)},[m,t,l,i]);return[o,c]}function bt({defaultProp:t,onChange:s}){const[a,r]=d.useState(t),n=d.useRef(a),l=d.useRef(s);return yt(()=>{l.current=s},[s]),d.useEffect(()=>{var i;n.current!==a&&((i=l.current)==null||i.call(l,a),n.current=a)},[a,n]),[a,r,l]}function _t(t){return typeof t=="function"}var St=d.createContext(void 0);function Ce(t){const s=d.useContext(St);return t||s||"ltr"}var X="rovingFocusGroup.onEntryFocus",wt={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[Z,Ie,kt]=ht(P),[Ct,Te]=H(P,[kt]),[It,Tt]=Ct(P),Ae=d.forwardRef((t,s)=>e.jsx(Z.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Z.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(At,{...t,ref:s})})}));Ae.displayName=P;var At=d.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:o,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...p}=t,h=d.useRef(null),N=K(s,h),y=Ce(l),[j,f]=ke({prop:i,defaultProp:m??null,onChange:o,caller:P}),[_,v]=d.useState(!1),g=Nt(c),x=Ie(a),w=d.useRef(!1),[b,D]=d.useState(0);return d.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(X,g),()=>k.removeEventListener(X,g)},[g]),e.jsx(It,{scope:a,orientation:r,dir:y,loop:n,currentTabStopId:j,onItemFocus:d.useCallback(k=>f(k),[f]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>D(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>D(k=>k-1),[]),children:e.jsx(F.div,{tabIndex:_||b===0?-1:0,"data-orientation":r,...p,ref:N,style:{outline:"none",...t.style},onMouseDown:T(t.onMouseDown,()=>{w.current=!0}),onFocus:T(t.onFocus,k=>{const qe=!w.current;if(k.target===k.currentTarget&&qe&&!_){const te=new CustomEvent(X,wt);if(k.currentTarget.dispatchEvent(te),!te.defaultPrevented){const W=x().filter(A=>A.focusable),Be=W.find(A=>A.active),Qe=W.find(A=>A.id===j),We=[Be,Qe,...W].filter(Boolean).map(A=>A.ref.current);Fe(We,u)}}w.current=!1}),onBlur:T(t.onBlur,()=>v(!1))})})}),Me="RovingFocusGroupItem",Re=d.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:l,children:i,...m}=t,o=we(),c=l||o,u=Tt(Me,a),p=u.currentTabStopId===c,h=Ie(a),{onFocusableItemAdd:N,onFocusableItemRemove:y,currentTabStopId:j}=u;return d.useEffect(()=>{if(r)return N(),()=>y()},[r,N,y]),e.jsx(Z.ItemSlot,{scope:a,id:c,focusable:r,active:n,children:e.jsx(F.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...m,ref:s,onMouseDown:T(t.onMouseDown,f=>{r?u.onItemFocus(c):f.preventDefault()}),onFocus:T(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:T(t.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){u.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const _=Ft(f,u.orientation,u.dir);if(_!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let g=h().filter(x=>x.focusable).map(x=>x.ref.current);if(_==="last")g.reverse();else if(_==="prev"||_==="next"){_==="prev"&&g.reverse();const x=g.indexOf(f.currentTarget);g=u.loop?Et(g,x+1):g.slice(x+1)}setTimeout(()=>Fe(g))}}),children:typeof i=="function"?i({isCurrentTabStop:p,hasTabStop:j!=null}):i})})});Re.displayName=Me;var Mt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rt(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ft(t,s,a){const r=Rt(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Mt[r]}function Fe(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function Et(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var Pt=Ae,Dt=Re;function Ot(t,s){return d.useReducer((a,r)=>s[a][r]??a,t)}var Ee=t=>{const{present:s,children:a}=t,r=Lt(s),n=typeof a=="function"?a({present:r.isPresent}):d.Children.only(a),l=K(r.ref,$t(n));return typeof a=="function"||r.isPresent?d.cloneElement(n,{ref:l}):null};Ee.displayName="Presence";function Lt(t){const[s,a]=d.useState(),r=d.useRef(null),n=d.useRef(t),l=d.useRef("none"),i=t?"mounted":"unmounted",[m,o]=Ot(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const c=L(r.current);l.current=m==="mounted"?c:"none"},[m]),q(()=>{const c=r.current,u=n.current;if(u!==t){const h=l.current,N=L(c);t?o("MOUNT"):N==="none"||(c==null?void 0:c.display)==="none"?o("UNMOUNT"):o(u&&h!==N?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,o]),q(()=>{if(s){let c;const u=s.ownerDocument.defaultView??window,p=N=>{const j=L(r.current).includes(N.animationName);if(N.target===s&&j&&(o("ANIMATION_END"),!n.current)){const f=s.style.animationFillMode;s.style.animationFillMode="forwards",c=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=f)})}},h=N=>{N.target===s&&(l.current=L(r.current))};return s.addEventListener("animationstart",h),s.addEventListener("animationcancel",p),s.addEventListener("animationend",p),()=>{u.clearTimeout(c),s.removeEventListener("animationstart",h),s.removeEventListener("animationcancel",p),s.removeEventListener("animationend",p)}}else o("ANIMATION_END")},[s,o]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:d.useCallback(c=>{r.current=c?getComputedStyle(c):null,a(c)},[])}}function L(t){return(t==null?void 0:t.animationName)||"none"}function $t(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Q="Tabs",[Ut,Ts]=H(Q,[Te]),Pe=Te(),[Gt,ee]=Ut(Q),De=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:m,activationMode:o="automatic",...c}=t,u=Ce(m),[p,h]=ke({prop:r,onChange:n,defaultProp:l??"",caller:Q});return e.jsx(Gt,{scope:a,baseId:we(),value:p,onValueChange:h,orientation:i,dir:u,activationMode:o,children:e.jsx(F.div,{dir:u,"data-orientation":i,...c,ref:s})})});De.displayName=Q;var Oe="TabsList",Le=d.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,l=ee(Oe,a),i=Pe(a);return e.jsx(Pt,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:r,children:e.jsx(F.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:s})})});Le.displayName=Oe;var $e="TabsTrigger",Ue=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...l}=t,i=ee($e,a),m=Pe(a),o=ze(i.baseId,r),c=Ke(i.baseId,r),u=r===i.value;return e.jsx(Dt,{asChild:!0,...m,focusable:!n,active:u,children:e.jsx(F.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:o,...l,ref:s,onMouseDown:T(t.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?i.onValueChange(r):p.preventDefault()}),onKeyDown:T(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(r)}),onFocus:T(t.onFocus,()=>{const p=i.activationMode!=="manual";!u&&!n&&p&&i.onValueChange(r)})})})});Ue.displayName=$e;var Ge="TabsContent",Ve=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:l,...i}=t,m=ee(Ge,a),o=ze(m.baseId,r),c=Ke(m.baseId,r),u=r===m.value,p=d.useRef(u);return d.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(Ee,{present:n||u,children:({present:h})=>e.jsx(F.div,{"data-state":u?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":o,hidden:!h,id:c,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:h&&l})})});Ve.displayName=Ge;function ze(t,s){return`${t}-trigger-${s}`}function Ke(t,s){return`${t}-content-${s}`}var Vt=De,zt=Le,Kt=Ue,qt=Ve;function Bt({className:t,...s}){return e.jsx(Vt,{"data-slot":"tabs",className:B("flex flex-col gap-2",t),...s})}function Qt({className:t,...s}){return e.jsx(zt,{"data-slot":"tabs-list",className:B("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function re({className:t,...s}){return e.jsx(Kt,{"data-slot":"tabs-trigger",className:B("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function ae({className:t,...s}){return e.jsx(qt,{"data-slot":"tabs-content",className:B("flex-1 outline-none",t),...s})}const Wt=[{title:"Inventory Management",href:"/inventory"}];function As({stats:t,filters:s,inventoryData:a,stockMovementData:r}){const[n,l]=d.useState(!1),[i,m]=d.useState(!1),{data:o,setData:c,post:u,reset:p}=Ye({variant_id:null,adjust_type:null,quantity:0}),h=(y,j)=>{c(f=>({...f,[y]:j}))},N=y=>{y.preventDefault(),u(route("inventory.adjust"),{onSuccess:()=>{se.success("Stock Successfully Adjust"),p(),l(!1)},onError:j=>{se.error(j.message)}})};return e.jsxs(at,{breadcrumbs:Wt,children:[e.jsx(Xe,{title:"Inventory Management"}),e.jsx(dt,{isModalOpen:n,setModalOpen:l,handleSubmit:N,data:o,handleInputChange:h,items:a.data}),e.jsx(mt,{stats:t}),e.jsx("div",{className:"px-6 py-2",children:e.jsxs(Bt,{defaultValue:"inventory-overview",className:"w-full",children:[e.jsxs(Qt,{children:[e.jsx(re,{value:"inventory-overview",children:"Current Inventory"}),e.jsx(re,{value:"stock-movements",children:"Stock Movements"})]}),e.jsx(ae,{value:"inventory-overview",children:e.jsx(ut,{data:o,handleSubmit:N,handleInputChange:h,isModalOpen:i,setModalOpen:m,filters:s,inventoryData:a})}),e.jsx(ae,{value:"stock-movements",children:e.jsx(xt,{filters:s,stockMovementData:r})})]})})]})}export{As as default};
