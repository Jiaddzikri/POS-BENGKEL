import{r as i,j as e,S as R,$ as ue,b as A,R as me,m as at,L as ot}from"./app-BSuvoTbS.js";import{n as xe,g as ct}from"./number-format-C9-KG7aE.js";import{B as S,a as X}from"./button-B6cZ_Vso.js";import{D as pe,a as fe,b as he,c as ve,d as ge,e as je,f as be}from"./dialog-BMJ-20Gb.js";import{I as L}from"./input-Co4OhKCu.js";import{L as Y}from"./label-CriFCr2L.js";import{S as U,a as G,b as V,c as K,d as C,C as Ne}from"./select-3uS57-AO.js";import{P as it}from"./plus-Dvb-4iQ1.js";import{L as $}from"./index-0zabl2EX.js";import{a as ye,S as _e}from"./index.module-D6TVJq3H.js";import{F as Se}from"./filter-vrvU-RHr.js";import{X as we}from"./x-CyxTbmAj.js";import{D as ke}from"./download-Dlfg5J8W.js";import{P as E}from"./package-DSSj8c6x.js";import{T as Ce}from"./triangle-alert-Dhdn3O8q.js";import{d as Ie,P as lt,a as dt,C as ut,b as mt,c as xt}from"./popover-CnBFw1Nq.js";import{C as Te,f as pt,A as ft}from"./app-layout-iIO71zPT.js";import{c as ht}from"./createLucideIcon-ZpcOBMUu.js";import{a as Z,$ as vt,b as gt}from"./disabled-DbbLLAOw.js";import{K as ee,n as Me,L as te,o as jt,_ as bt}from"./render-1KRUqw0X.js";import{y as Ae}from"./use-sync-refs-BhsDoL5O.js";import{f as I}from"./setYear-oS4mZueu.js";import"./index-muPcKthH.js";import{c as q}from"./utils-jAU0Cazi.js";import{t as ce}from"./index-7cjgg6I-.js";/* empty css            */import"./index-DVmWm2VB.js";import"./index-BIqVCQeL.js";import"./index-o8OQ9nSE.js";import"./index-B3pNf6Lt.js";import"./check-eyUfg_75.js";import"./differenceInCalendarDays-D_tGss6D.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],yt=ht("MoveDown",Nt);let _t=i.createContext(void 0);function Re(){return i.useContext(_t)}let se=i.createContext(null);se.displayName="DescriptionContext";function Fe(){let t=i.useContext(se);if(t===null){let s=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,Fe),s}return t}function St(){var t,s;return(s=(t=i.useContext(se))==null?void 0:t.value)!=null?s:void 0}let wt="p";function kt(t,s){let a=i.useId(),r=Z(),{id:n=`headlessui-description-${a}`,...d}=t,c=Fe(),m=Ae(s);Me(()=>c.register(n),[n,c.register]);let o=r||!1,l=i.useMemo(()=>({...c.slot,disabled:o}),[c.slot,o]),u={ref:m,...c.props,id:n};return te()({ourProps:u,theirProps:d,slot:l,defaultTag:wt,name:c.name||"Description"})}let Ct=ee(kt);Object.assign(Ct,{});let ne=i.createContext(null);ne.displayName="LabelContext";function Ee(){let t=i.useContext(ne);if(t===null){let s=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,Ee),s}return t}function It(t){var s,a,r;let n=(a=(s=i.useContext(ne))==null?void 0:s.value)!=null?a:void 0;return((r=void 0)!=null?r:0)>0?[n,...t].filter(Boolean).join(" "):n}let Tt="label";function Mt(t,s){var a;let r=i.useId(),n=Ee(),d=Re(),c=Z(),{id:m=`headlessui-label-${r}`,htmlFor:o=d??((a=n.props)==null?void 0:a.htmlFor),passive:l=!1,...u}=t,p=Ae(s);Me(()=>n.register(m),[m,n.register]);let v=jt(h=>{let y=h.currentTarget;if(y instanceof HTMLLabelElement&&h.preventDefault(),n.props&&"onClick"in n.props&&typeof n.props.onClick=="function"&&n.props.onClick(h),y instanceof HTMLLabelElement){let f=document.getElementById(y.htmlFor);if(f){let g=f.getAttribute("disabled");if(g==="true"||g==="")return;let x=f.getAttribute("aria-disabled");if(x==="true"||x==="")return;(f instanceof HTMLInputElement&&(f.type==="radio"||f.type==="checkbox")||f.role==="radio"||f.role==="checkbox"||f.role==="switch")&&f.click(),f.focus({preventScroll:!0})}}}),b=c||!1,N=i.useMemo(()=>({...n.slot,disabled:b}),[n.slot,b]),j={ref:p,...n.props,id:m,htmlFor:o,onClick:v};return l&&("onClick"in j&&(delete j.htmlFor,delete j.onClick),"onClick"in u&&delete u.onClick),te()({ourProps:j,theirProps:u,slot:N,defaultTag:o?Tt:"div",name:n.name||"Label"})}let At=ee(Mt);Object.assign(At,{});let Rt="input";function Ft(t,s){let a=i.useId(),r=Re(),n=Z(),{id:d=r||`headlessui-input-${a}`,disabled:c=n||!1,autoFocus:m=!1,invalid:o=!1,...l}=t,u=It(),p=St(),{isFocused:v,focusProps:b}=vt({autoFocus:m}),{isHovered:N,hoverProps:j}=gt({isDisabled:c}),h=bt({ref:s,id:d,"aria-labelledby":u,"aria-describedby":p,"aria-invalid":o?"":void 0,disabled:c||void 0,autoFocus:m},b,j),y=i.useMemo(()=>({disabled:c,invalid:o,hover:N,focus:v,autofocus:m}),[c,o,N,v,m]);return te()({ourProps:h,theirProps:l,slot:y,defaultTag:Rt,name:"Input"})}let Et=ee(Ft);function Pt({items:t,handleSubmit:s,data:a,handleInputChange:r,isModalOpen:n,setModalOpen:d}){return e.jsx("div",{className:"px-6 py-2",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm",children:"Manage your inventory"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsxs(pe,{open:n,onOpenChange:d,children:[e.jsx(fe,{asChild:!0,children:e.jsxs(S,{className:"inline-flex items-center rounded-md border border-transparent bg-blue-600 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",children:[e.jsx(it,{}),"Stock Adjusment"]})}),e.jsxs(he,{children:[e.jsxs(ve,{children:[e.jsx(ge,{children:"Adjust Stock"}),e.jsx(je,{children:"Select Item and Adjust its Quantity"})]}),e.jsxs("form",{onSubmit:s,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(Y,{children:"Item"}),e.jsxs(U,{value:a.variant_id??void 0,onValueChange:c=>r("variant_id",c),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Item Name"})}),e.jsx(K,{children:t.map((c,m)=>e.jsx(C,{value:c.variant_id,children:`${c.item_name} ${c.sku}`},m))})]})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Adjustment Type"}),e.jsxs(U,{onValueChange:c=>r("adjust_type",c),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Adjustment Type"})}),e.jsxs(K,{children:[e.jsx(C,{value:"add-stock",children:"Add Stock"}),e.jsx(C,{value:"remove-stock",children:"Remove Stock"}),e.jsx(C,{value:"adjust-stock",children:"Adjust Stock"})]})]})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Quantity"}),e.jsx(L,{value:xe(a.quantity),type:"text",inputMode:"numeric",onChange:c=>r("quantity",parseInt(ct(c.target.value)))})]}),e.jsx(be,{children:e.jsx(S,{className:"bg-blue-600",type:"submit",children:"Adjust stock"})})]})]})]})})]})})}function Dt({inventoryData:t,filters:s,data:a,handleSubmit:r,handleInputChange:n,isModalOpen:d,setModalOpen:c}){const{data:m,meta:o,links:l}=t,[u,p]=i.useState(s.search||""),[v,b]=i.useState(!1),[N,j]=i.useState(s.stock_condition||""),[h]=ye(u,300),y=N||u,f=()=>{p(""),j(""),R.get(route("inventory.index"),{search:"",stock_condition:"",page:1})},g=x=>{const w={search:u,stock_condition:N,page:x};R.get(route("inventory.index"),w,{preserveState:!0,preserveScroll:!0,replace:!0})};return i.useEffect(()=>{const x={search:u,stock_condition:N,page:1};R.get(route("inventory.index"),x,{preserveState:!0,preserveScroll:!0,replace:!0})},[h,N]),e.jsxs("div",{className:"space-y-3 overflow-x-auto rounded-lg border px-6 py-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm",children:"Manage your inventory"})]}),e.jsxs("div",{className:"flex max-w-md gap-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform"}),e.jsx(L,{onChange:x=>p(x.target.value),value:u,type:"text",placeholder:"Search items...",className:"w-full rounded-md border py-2 pr-4 pl-9 text-sm focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",onClick:()=>b(!v),className:"flex items-center",children:[e.jsx(Se,{}),"Filters",e.jsx(Ne,{className:`h-4 w-4 transition-transform ${v?"rotate-180":""}`})]}),y&&e.jsxs(S,{variant:"ghost",onClick:f,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[e.jsx(we,{className:"h-4 w-4"}),"Clear All"]})]}),e.jsxs(ue,{href:route("inventory.print",{search:u,stock_condition:N,export_type:"inventory"}),target:"_blank",className:"inline-flex items-center rounded-md border px-3 py-2 text-sm font-medium transition-colors",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Export"]})]}),v&&e.jsx("div",{className:"borderp-4 rounded-lg",children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:e.jsxs("div",{children:[e.jsx($,{className:"mb-2 block text-xs font-medium tracking-wide uppercase",children:"Stock Condition"}),e.jsxs(U,{value:N,onValueChange:x=>j(x),children:[e.jsx(G,{className:"w-full",children:e.jsx(V,{placeholder:"Pilih Kondisi Stok"})}),e.jsxs(K,{children:[e.jsx(C,{value:"low",children:"Low Stock"}),e.jsx(C,{value:"normal",children:"Normal Stock"}),e.jsx(C,{value:"out_of_stock",children:"Out of Stock"})]})]})]})})}),m.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No inventory items found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Item"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Current Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium tracking-wider uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:m.map((x,w)=>e.jsxs("tr",{className:"text-left",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100",children:e.jsx(E,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium",children:x.item_name})})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono text-sm",children:x.sku})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-sm font-medium ${x.low_stock?"text-orange-600":"text-green-600"}`,children:x.stock}),x.low_stock&&e.jsx(Ce,{className:"ml-2 h-4 w-4 text-orange-500"})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-medium",children:x.category_name})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:"text-sm font-medium",children:["Rp ",x.price.toLocaleString("id-ID")]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${x.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex items-center justify-center space-x-2",children:e.jsxs(pe,{children:[e.jsx(fe,{asChild:!0,children:e.jsx(S,{onClick:()=>n("variant_id",x.variant_id),className:"bg-blue-600 text-white transition-colors hover:bg-blue-700",size:"sm",children:"Adjust Stock"})}),e.jsxs(he,{children:[e.jsxs(ve,{children:[e.jsx(ge,{children:"Adjust Stock"}),e.jsx(je,{children:"Select Item and Adjust its Quantity"})]}),e.jsxs("form",{onSubmit:r,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx($,{className:"mb-1 block text-sm font-medium",children:"Item"}),e.jsx(L,{onChange:_=>n("variant_id",_.target.value),value:`${x.item_name} (${x.sku})`,readOnly:!0,disabled:!0,className:"border"})]}),e.jsxs("div",{children:[e.jsx($,{className:"mb-1 block text-sm font-medium",children:"Adjustment Type"}),e.jsxs(U,{onValueChange:_=>n("adjust_type",_),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Select adjustment type"})}),e.jsxs(K,{children:[e.jsx(C,{value:"add-stock",children:"Add Stock"}),e.jsx(C,{value:"remove-stock",children:"Remove Stock"}),e.jsx(C,{value:"adjust-stock",children:"Adjust Stock"})]})]})]}),e.jsxs("div",{children:[e.jsx($,{className:"mb-1 block text-sm font-medium",children:"Quantity"}),e.jsx(L,{onChange:_=>n("quantity",_.target.value),value:xe(a.quantity),type:"text",inputMode:"numeric",placeholder:"Enter quantity"})]}),e.jsx(be,{children:e.jsx(S,{className:"bg-blue-600 text-white hover:bg-blue-700",type:"submit",children:"Adjust Stock"})})]})]})]})})})]},x.variant_id||w))})]})}),o.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-700",children:e.jsx("span",{})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>g(o.current_page-1),disabled:o.current_page===1,className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[o.current_page>3&&e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:o.current_page===1?"default":"outline",size:"sm",onClick:()=>g(1),className:"min-w-[40px]",children:"1"}),o.current_page>4&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,o.last_page)},(x,w)=>{let _;return o.last_page<=5||o.current_page<=3?_=w+1:o.current_page>=o.last_page-2?_=o.last_page-4+w:_=o.current_page-2+w,_<1||_>o.last_page||o.current_page>3&&_===1||o.current_page<o.last_page-2&&_===o.last_page?null:e.jsx(S,{variant:_===o.current_page?"default":"outline",size:"sm",onClick:()=>g(_),className:"min-w-[40px]",children:_},_)}),o.current_page<o.last_page-2&&e.jsxs(e.Fragment,{children:[o.current_page<o.last_page-3&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx(S,{variant:o.last_page===o.current_page?"default":"outline",size:"sm",onClick:()=>g(o.last_page),className:"min-w-[40px]",children:o.last_page})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>g(o.current_page+1),disabled:o.current_page===o.last_page,className:"flex items-center gap-1",children:["Next",e.jsx(Te,{className:"h-4 w-4"})]})]})]})]})}function $t({stats:t}){return e.jsx("div",{className:"px-6 py-2",children:e.jsxs("div",{className:"mb-3 grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Total Active Items"}),e.jsx("p",{className:"text-2xl font-semibold",children:t.active_item})]}),e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(E,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:t.low_stock})]}),e.jsx("div",{className:"rounded-lg bg-orange-100 p-2",children:e.jsx(Ce,{className:"h-6 w-6 text-orange-600"})})]})}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-semibold",children:t.out_of_stock})]}),e.jsx("div",{className:"rounded-lg bg-red-100 p-2",children:e.jsx(yt,{className:"h-6 w-6 text-red-600"})})]})}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Stock Movements"}),e.jsx("p",{className:"text-2xl font-semibold",children:t.stock_movement})]}),e.jsx("div",{className:"rounded-lg bg-purple-100 p-2",children:e.jsx(pt,{className:"h-6 w-6 text-purple-600"})})]})})]})})}function Ot({stockMovementData:t,filters:s}){const{data:a,links:r,meta:n}=t,[d,c]=i.useState((s==null?void 0:s.search)||""),[m,o]=i.useState(!1),[l,u]=i.useState({from:s!=null&&s.startDate?new Date(s.startDate):void 0,to:s!=null&&s.endDate?new Date(s.endDate):void 0}),[p,v]=i.useState((s==null?void 0:s.stock_condition)||""),[b]=ye(d,300),N=p||d||l.from||l.to,j=()=>{if(!l.from||!l.to){alert("Silakan pilih tanggal mulai dan akhir.");return}const f={search_stock_movement:d,stock_condition:p,startDate:I(l.from,"yyyy-MM-dd"),endDate:I(l.to,"yyyy-MM-dd"),page:1};R.get(route("inventory.index"),f,{preserveState:!0,preserveScroll:!0,replace:!0})},h=f=>{const g={search_stock_movement:d,stock_condition:p,startDate:l.from?I(l.from,"yyyy-MM-dd"):"",endDate:l.to?I(l.to,"yyyy-MM-dd"):"",page:f};R.get(route("inventory.index"),g,{preserveState:!0,preserveScroll:!0,replace:!0})},y=()=>{c(""),v(""),u({from:void 0,to:void 0}),R.get(route("inventory.index"),{search_stock_movement:"",stock_condition:"",startDate:"",endDate:"",page:1})};return i.useEffect(()=>{const f={search_stock_movement:d,stock_condition:p};R.get(route("inventory.index"),f,{preserveState:!0,preserveScroll:!0,replace:!0})},[b,p]),e.jsxs("div",{className:"space-y-3 overflow-x-auto rounded-lg border px-6 py-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Stock Movement"}),e.jsx("p",{className:"mt-1 text-sm",children:"Track Your Item Stock Movement"})]}),e.jsxs("div",{className:"flex max-w-md gap-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform"}),e.jsx(Et,{onChange:f=>c(f.target.value),value:d,type:"text",placeholder:"Search items...",className:"w-full rounded-md border py-2 pr-4 pl-9 text-sm focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",onClick:()=>o(!m),className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"Filters",e.jsx(Ne,{className:`h-4 w-4 transition-transform ${m?"rotate-180":""}`})]}),e.jsxs(ue,{href:route("inventory.print",{search_stock_movement:d,stock_condition:p,startDate:l.from?I(l.from,"yyyy-MM-dd"):"",endDate:l.to?I(l.to,"yyyy-MM-dd"):"",page:s.page,export_type:"stock_movement"}),target:"_blank",className:"inline-flex items-center rounded-md border px-3 py-2 text-sm font-medium transition-colors",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Export"]}),N&&e.jsxs(S,{variant:"ghost",onClick:y,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[e.jsx(we,{className:"h-4 w-4"}),"Clear All"]})]})]}),m&&e.jsx("div",{className:"space-y-4 rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(lt,{children:[e.jsx(dt,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"min-w-[240px] justify-start text-left font-normal",children:[e.jsx(ut,{className:"mr-2 h-4 w-4"}),l!=null&&l.from?l.to?e.jsxs(e.Fragment,{children:[I(l.from,"LLL dd, y")," - ",I(l.to,"LLL dd, y")]}):I(l.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(mt,{className:"w-auto p-0",align:"start",children:e.jsx(xt,{mode:"range",defaultMonth:l==null?void 0:l.from,selected:l,onSelect:f=>{u(f||{from:void 0,to:void 0})},numberOfMonths:2,required:!1})})]}),e.jsx(S,{onClick:j,disabled:!l.from||!l.to,children:"Terapkan Tanggal"})]})}),t.data.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No stock movement records found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Date & Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Item Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider uppercase",children:"Quantity"})]})}),e.jsx("tbody",{className:"divide-y",children:t.data.map((f,g)=>e.jsxs("tr",{className:"text-left",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100",children:e.jsx(E,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium",children:f.created_at})})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono text-sm",children:f.item_name})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono text-sm",children:f.sku})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${f.stock_in>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.stock_in>0?"Stock In":"Stock Out"})})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`text-sm font-medium ${f.stock_in>0?"text-green-600":"text-red-600"}`,children:f.stock_in>0?`+${f.stock_in}`:`-${f.stock_out}`})})]},f.variant_id||g))})]})}),n.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>h(n.current_page-1),disabled:n.current_page===1,className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[n.current_page>3&&e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:n.current_page===1?"default":"outline",size:"sm",onClick:()=>h(1),className:"min-w-[40px]",children:"1"}),n.current_page>4&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),Array.from({length:Math.min(5,n.last_page)},(f,g)=>{let x;return n.last_page<=5||n.current_page<=3?x=g+1:n.current_page>=n.last_page-2?x=n.last_page-4+g:x=n.current_page-2+g,x<1||x>n.last_page||n.current_page>3&&x===1||n.current_page<n.last_page-2&&x===n.last_page?null:e.jsx(S,{variant:x===n.current_page?"default":"outline",size:"sm",onClick:()=>h(x),className:"min-w-[40px]",children:x},x)}),n.current_page<n.last_page-2&&e.jsxs(e.Fragment,{children:[n.current_page<n.last_page-3&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx(S,{variant:n.last_page===n.current_page?"default":"outline",size:"sm",onClick:()=>h(n.last_page),className:"min-w-[40px]",children:n.last_page})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>h(n.current_page+1),disabled:n.current_page===n.last_page,className:"flex items-center gap-1",children:["Next",e.jsx(Te,{className:"h-4 w-4"})]})]})]})]})}function T(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t==null||t(n),a===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function re(t,s=[]){let a=[];function r(d,c){const m=i.createContext(c),o=a.length;a=[...a,c];const l=p=>{var y;const{scope:v,children:b,...N}=p,j=((y=v==null?void 0:v[t])==null?void 0:y[o])||m,h=i.useMemo(()=>N,Object.values(N));return e.jsx(j.Provider,{value:h,children:b})};l.displayName=d+"Provider";function u(p,v){var j;const b=((j=v==null?void 0:v[t])==null?void 0:j[o])||m,N=i.useContext(b);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${d}\``)}return[l,u]}const n=()=>{const d=a.map(c=>i.createContext(c));return function(m){const o=(m==null?void 0:m[t])||d;return i.useMemo(()=>({[`__scope${t}`]:{...m,[t]:o}}),[m,o])}};return n.scopeName=t,[r,Lt(n,...s)]}function Lt(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(d){const c=r.reduce((m,{useScope:o,scopeName:l})=>{const p=o(d)[`__scope${l}`];return{...m,...p}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return a.scopeName=s.scopeName,a}function ie(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Ut(...t){return s=>{let a=!1;const r=t.map(n=>{const d=ie(n,s);return!a&&typeof d=="function"&&(a=!0),d});if(a)return()=>{for(let n=0;n<r.length;n++){const d=r[n];typeof d=="function"?d():ie(t[n],null)}}}}function z(...t){return i.useCallback(Ut(...t),t)}function Gt(t){const s=t+"CollectionProvider",[a,r]=re(s),[n,d]=a(s,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:h,children:y}=j,f=A.useRef(null),g=A.useRef(new Map).current;return e.jsx(n,{scope:h,itemMap:g,collectionRef:f,children:y})};c.displayName=s;const m=t+"CollectionSlot",o=X(m),l=A.forwardRef((j,h)=>{const{scope:y,children:f}=j,g=d(m,y),x=z(h,g.collectionRef);return e.jsx(o,{ref:x,children:f})});l.displayName=m;const u=t+"CollectionItemSlot",p="data-radix-collection-item",v=X(u),b=A.forwardRef((j,h)=>{const{scope:y,children:f,...g}=j,x=A.useRef(null),w=z(h,x),_=d(u,y);return A.useEffect(()=>(_.itemMap.set(x,{ref:x,...g}),()=>void _.itemMap.delete(x))),e.jsx(v,{[p]:"",ref:w,children:f})});b.displayName=u;function N(j){const h=d(t+"CollectionConsumer",j);return A.useCallback(()=>{const f=h.collectionRef.current;if(!f)return[];const g=Array.from(f.querySelectorAll(`[${p}]`));return Array.from(h.itemMap.values()).sort((_,D)=>g.indexOf(_.ref.current)-g.indexOf(D.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:c,Slot:l,ItemSlot:b},N,r]}var B=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Vt=me[" useId ".trim().toString()]||(()=>{}),Kt=0;function Pe(t){const[s,a]=i.useState(Vt());return B(()=>{a(r=>r??String(Kt++))},[t]),t||(s?`radix-${s}`:"")}var zt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F=zt.reduce((t,s)=>{const a=X(`Primitive.${s}`),r=i.forwardRef((n,d)=>{const{asChild:c,...m}=n,o=c?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...m,ref:d})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function Bt(t){const s=i.useRef(t);return i.useEffect(()=>{s.current=t}),i.useMemo(()=>(...a)=>{var r;return(r=s.current)==null?void 0:r.call(s,...a)},[])}var qt=me[" useInsertionEffect ".trim().toString()]||B;function De({prop:t,defaultProp:s,onChange:a=()=>{},caller:r}){const[n,d,c]=Qt({defaultProp:s,onChange:a}),m=t!==void 0,o=m?t:n;{const u=i.useRef(t!==void 0);i.useEffect(()=>{const p=u.current;p!==m&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=m},[m,r])}const l=i.useCallback(u=>{var p;if(m){const v=Wt(u)?u(t):u;v!==t&&((p=c.current)==null||p.call(c,v))}else d(u)},[m,t,d,c]);return[o,l]}function Qt({defaultProp:t,onChange:s}){const[a,r]=i.useState(t),n=i.useRef(a),d=i.useRef(s);return qt(()=>{d.current=s},[s]),i.useEffect(()=>{var c;n.current!==a&&((c=d.current)==null||c.call(d,a),n.current=a)},[a,n]),[a,r,d]}function Wt(t){return typeof t=="function"}var Yt=i.createContext(void 0);function $e(t){const s=i.useContext(Yt);return t||s||"ltr"}var H="rovingFocusGroup.onEntryFocus",Ht={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[J,Oe,Xt]=Gt(P),[Jt,Le]=re(P,[Xt]),[Zt,es]=Jt(P),Ue=i.forwardRef((t,s)=>e.jsx(J.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(J.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ts,{...t,ref:s})})}));Ue.displayName=P;var ts=i.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:d,currentTabStopId:c,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:o,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...p}=t,v=i.useRef(null),b=z(s,v),N=$e(d),[j,h]=De({prop:c,defaultProp:m??null,onChange:o,caller:P}),[y,f]=i.useState(!1),g=Bt(l),x=Oe(a),w=i.useRef(!1),[_,D]=i.useState(0);return i.useEffect(()=>{const k=v.current;if(k)return k.addEventListener(H,g),()=>k.removeEventListener(H,g)},[g]),e.jsx(Zt,{scope:a,orientation:r,dir:N,loop:n,currentTabStopId:j,onItemFocus:i.useCallback(k=>h(k),[h]),onItemShiftTab:i.useCallback(()=>f(!0),[]),onFocusableItemAdd:i.useCallback(()=>D(k=>k+1),[]),onFocusableItemRemove:i.useCallback(()=>D(k=>k-1),[]),children:e.jsx(F.div,{tabIndex:y||_===0?-1:0,"data-orientation":r,...p,ref:b,style:{outline:"none",...t.style},onMouseDown:T(t.onMouseDown,()=>{w.current=!0}),onFocus:T(t.onFocus,k=>{const tt=!w.current;if(k.target===k.currentTarget&&tt&&!y){const oe=new CustomEvent(H,Ht);if(k.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const W=x().filter(M=>M.focusable),st=W.find(M=>M.active),nt=W.find(M=>M.id===j),rt=[st,nt,...W].filter(Boolean).map(M=>M.ref.current);Ke(rt,u)}}w.current=!1}),onBlur:T(t.onBlur,()=>f(!1))})})}),Ge="RovingFocusGroupItem",Ve=i.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:d,children:c,...m}=t,o=Pe(),l=d||o,u=es(Ge,a),p=u.currentTabStopId===l,v=Oe(a),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:j}=u;return i.useEffect(()=>{if(r)return b(),()=>N()},[r,b,N]),e.jsx(J.ItemSlot,{scope:a,id:l,focusable:r,active:n,children:e.jsx(F.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...m,ref:s,onMouseDown:T(t.onMouseDown,h=>{r?u.onItemFocus(l):h.preventDefault()}),onFocus:T(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:T(t.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){u.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const y=rs(h,u.orientation,u.dir);if(y!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let g=v().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const x=g.indexOf(h.currentTarget);g=u.loop?as(g,x+1):g.slice(x+1)}setTimeout(()=>Ke(g))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:j!=null}):c})})});Ve.displayName=Ge;var ss={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ns(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rs(t,s,a){const r=ns(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ss[r]}function Ke(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function as(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var os=Ue,cs=Ve;function is(t,s){return i.useReducer((a,r)=>s[a][r]??a,t)}var ze=t=>{const{present:s,children:a}=t,r=ls(s),n=typeof a=="function"?a({present:r.isPresent}):i.Children.only(a),d=z(r.ref,ds(n));return typeof a=="function"||r.isPresent?i.cloneElement(n,{ref:d}):null};ze.displayName="Presence";function ls(t){const[s,a]=i.useState(),r=i.useRef(null),n=i.useRef(t),d=i.useRef("none"),c=t?"mounted":"unmounted",[m,o]=is(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=O(r.current);d.current=m==="mounted"?l:"none"},[m]),B(()=>{const l=r.current,u=n.current;if(u!==t){const v=d.current,b=O(l);t?o("MOUNT"):b==="none"||(l==null?void 0:l.display)==="none"?o("UNMOUNT"):o(u&&v!==b?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,o]),B(()=>{if(s){let l;const u=s.ownerDocument.defaultView??window,p=b=>{const j=O(r.current).includes(b.animationName);if(b.target===s&&j&&(o("ANIMATION_END"),!n.current)){const h=s.style.animationFillMode;s.style.animationFillMode="forwards",l=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=h)})}},v=b=>{b.target===s&&(d.current=O(r.current))};return s.addEventListener("animationstart",v),s.addEventListener("animationcancel",p),s.addEventListener("animationend",p),()=>{u.clearTimeout(l),s.removeEventListener("animationstart",v),s.removeEventListener("animationcancel",p),s.removeEventListener("animationend",p)}}else o("ANIMATION_END")},[s,o]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:i.useCallback(l=>{r.current=l?getComputedStyle(l):null,a(l)},[])}}function O(t){return(t==null?void 0:t.animationName)||"none"}function ds(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Q="Tabs",[us,Zs]=re(Q,[Le]),Be=Le(),[ms,ae]=us(Q),qe=i.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:d,orientation:c="horizontal",dir:m,activationMode:o="automatic",...l}=t,u=$e(m),[p,v]=De({prop:r,onChange:n,defaultProp:d??"",caller:Q});return e.jsx(ms,{scope:a,baseId:Pe(),value:p,onValueChange:v,orientation:c,dir:u,activationMode:o,children:e.jsx(F.div,{dir:u,"data-orientation":c,...l,ref:s})})});qe.displayName=Q;var Qe="TabsList",We=i.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,d=ae(Qe,a),c=Be(a);return e.jsx(os,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:r,children:e.jsx(F.div,{role:"tablist","aria-orientation":d.orientation,...n,ref:s})})});We.displayName=Qe;var Ye="TabsTrigger",He=i.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...d}=t,c=ae(Ye,a),m=Be(a),o=Ze(c.baseId,r),l=et(c.baseId,r),u=r===c.value;return e.jsx(cs,{asChild:!0,...m,focusable:!n,active:u,children:e.jsx(F.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:o,...d,ref:s,onMouseDown:T(t.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?c.onValueChange(r):p.preventDefault()}),onKeyDown:T(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(r)}),onFocus:T(t.onFocus,()=>{const p=c.activationMode!=="manual";!u&&!n&&p&&c.onValueChange(r)})})})});He.displayName=Ye;var Xe="TabsContent",Je=i.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:d,...c}=t,m=ae(Xe,a),o=Ze(m.baseId,r),l=et(m.baseId,r),u=r===m.value,p=i.useRef(u);return i.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),e.jsx(ze,{present:n||u,children:({present:v})=>e.jsx(F.div,{"data-state":u?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":o,hidden:!v,id:l,tabIndex:0,...c,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:v&&d})})});Je.displayName=Xe;function Ze(t,s){return`${t}-trigger-${s}`}function et(t,s){return`${t}-content-${s}`}var xs=qe,ps=We,fs=He,hs=Je;function vs({className:t,...s}){return e.jsx(xs,{"data-slot":"tabs",className:q("flex flex-col gap-2",t),...s})}function gs({className:t,...s}){return e.jsx(ps,{"data-slot":"tabs-list",className:q("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function le({className:t,...s}){return e.jsx(fs,{"data-slot":"tabs-trigger",className:q("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function de({className:t,...s}){return e.jsx(hs,{"data-slot":"tabs-content",className:q("flex-1 outline-none",t),...s})}const js=[{title:"Inventory Management",href:"/inventory"}];function en({stats:t,filters:s,inventoryData:a,stockMovementData:r}){const[n,d]=i.useState(!1),[c,m]=i.useState(!1),{data:o,setData:l,post:u,reset:p}=at({variant_id:null,adjust_type:null,quantity:0}),v=(N,j)=>{l(h=>({...h,[N]:j}))},b=N=>{N.preventDefault(),u(route("inventory.adjust"),{onSuccess:()=>{ce.success("Stock Successfully Adjust"),p(),d(!1)},onError:j=>{ce.error(j.message)}})};return e.jsxs(ft,{breadcrumbs:js,children:[e.jsx(ot,{title:"Inventory Management"}),e.jsx(Pt,{isModalOpen:n,setModalOpen:d,handleSubmit:b,data:o,handleInputChange:v,items:a.data}),e.jsx($t,{stats:t}),e.jsx("div",{className:"px-6 py-2",children:e.jsxs(vs,{defaultValue:"inventory-overview",className:"w-full",children:[e.jsxs(gs,{children:[e.jsx(le,{value:"inventory-overview",children:"Current Inventory"}),e.jsx(le,{value:"stock-movements",children:"Stock Movements"})]}),e.jsx(de,{value:"inventory-overview",children:e.jsx(Dt,{data:o,handleSubmit:b,handleInputChange:v,isModalOpen:c,setModalOpen:m,filters:s,inventoryData:a})}),e.jsx(de,{value:"stock-movements",children:e.jsx(Ot,{filters:s,stockMovementData:r})})]})})]})}export{en as default};
