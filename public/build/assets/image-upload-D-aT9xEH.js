import{r as g,j as e}from"./app-DU2ribiw.js";import{B as x}from"./button-CW_BygfF.js";import{c as h}from"./createLucideIcon-Du4cilnx.js";import{X as j}from"./x-Bee98Yzc.js";/* empty css            */import"./utils-jAU0Cazi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],v=h("Image",N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],k=h("Upload",w);function _({handleItemChange:p,existingImage:u=null,errors:n}){const a="/"+u,[d,s]=g.useState(a),c=g.useRef(null),m=()=>{var t;(t=c.current)==null||t.click()},b=()=>{s(a)},f=t=>{t.preventDefault();const o=t.target.files,l=o&&o.length>0?o[0]:null;if(l){const y=URL.createObjectURL(l);s(y),p("new_image",l)}else s(a)},i=n.new_image||n.image,r=!!i;return e.jsxs("div",{className:"rounded-lg border",children:[e.jsx("div",{className:"border-b px-6 py-4",children:e.jsx("h2",{className:"text-lg font-medium",children:"Preview Gambar"})}),e.jsxs("div",{className:"space-y-3 px-6 py-4",children:[d?e.jsxs("div",{className:"group relative",children:[e.jsx("img",{src:`${d}`,alt:"",className:`h-64 w-full rounded-lg border shadow-sm ${r?"border-red-500":""}`}),e.jsx("div",{className:"bg-opacity-0 group-hover:bg-opacity-40 absolute inset-0 flex items-center justify-center rounded-lg transition-all duration-200",children:e.jsxs("div",{className:"flex space-x-3 opacity-0 transition-opacity duration-200 group-hover:opacity-100",children:[e.jsx(x,{onClick:m,className:"rounded-full p-3 shadow-lg transition-colors",title:"Ganti gambar",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx(x,{onClick:b,className:"rounded-full p-3 shadow-lg transition-colors",title:"Hapus gambar",children:e.jsx(j,{className:"h-5 w-5 text-red-600"})})]})})]}):e.jsxs("div",{onClick:m,className:`flex h-64 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed transition-all duration-200 ${r?"border-red-500 bg-red-50 hover:border-red-600":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(v,{className:`mb-4 h-16 w-16 ${r?"text-red-500":"text-gray-400"}`}),e.jsx("p",{className:`mb-2 text-lg font-medium ${r?"text-red-700":"text-gray-700"}`,children:"Pilih gambar"}),e.jsx("p",{className:`mb-4 text-sm ${r?"text-red-600":"text-gray-500"}`,children:"PNG, JPG, JPEG, WebP hingga 5MB"}),e.jsx("div",{className:`rounded-md px-4 py-2 text-sm font-medium text-white transition-colors ${r?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Pilih File"})]}),i&&e.jsx("div",{className:"mt-2 rounded-md border border-red-200 bg-red-50 p-3",children:e.jsx("p",{className:"text-sm text-red-600",children:i})}),e.jsx("input",{ref:c,type:"file",accept:"image/png,image/jpg,image/jpeg,image/webp",onChange:f,className:"hidden"})]})]})}export{_ as default};
