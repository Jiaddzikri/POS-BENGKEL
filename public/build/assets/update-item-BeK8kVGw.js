import{r as n,j as a,m as b,L as k,S as w}from"./app-BSuvoTbS.js";import{A as C}from"./app-layout-iIO71zPT.js";import{T as D}from"./index-7cjgg6I-.js";import E from"./add-variant-fPzLqtL0.js";import L from"./basic-information-DNcVxEtt.js";import T from"./main-content-CVaeZgRv.js";import M from"./sidebar-B9-uRXwN.js";import N from"./status-DUEpUDlI.js";import F from"./submit-Cha_wboG.js";import U from"./variant-Y-5XUdm_.js";import $ from"./variant-list-BaaolhvL.js";/* empty css            */import"./button-B6cZ_Vso.js";import"./utils-jAU0Cazi.js";import"./index-DVmWm2VB.js";import"./index-muPcKthH.js";import"./index-BIqVCQeL.js";import"./x-CyxTbmAj.js";import"./createLucideIcon-ZpcOBMUu.js";import"./index-o8OQ9nSE.js";import"./index-B3pNf6Lt.js";import"./package-DSSj8c6x.js";import"./input-Co4OhKCu.js";import"./label-CriFCr2L.js";import"./index-0zabl2EX.js";import"./number-format-C9-KG7aE.js";import"./select-3uS57-AO.js";import"./check-eyUfg_75.js";import"./eye-BUnj3f3n.js";import"./alert-dialog-dSuz3pEb.js";import"./plus-Dvb-4iQ1.js";import"./dialog-BMJ-20Gb.js";import"./trash-2-BS0vOb9V.js";var H=(r,t,l,m,d,s,p,u)=>{let i=document.documentElement,h=["light","dark"];function f(e){(Array.isArray(r)?r:[r]).forEach(g=>{let x=g==="class",S=x&&s?d.map(y=>s[y]||y):d;x?(i.classList.remove(...S),i.classList.add(s&&s[e]?s[e]:e)):i.setAttribute(g,e)}),v(e)}function v(e){u&&h.includes(e)&&(i.style.colorScheme=e)}function _(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(m)f(m);else try{let e=localStorage.getItem(t)||l,g=p&&e==="system"?_():e;f(g)}catch{}},R=n.createContext(void 0),z={setTheme:r=>{},themes:[]},B=()=>{var r;return(r=n.useContext(R))!=null?r:z};n.memo(({forcedTheme:r,storageKey:t,attribute:l,enableSystem:m,enableColorScheme:d,defaultTheme:s,value:p,themes:u,nonce:i,scriptProps:h})=>{let f=JSON.stringify([l,t,s,r,u,p,m,d]).slice(1,-1);return n.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?i:"",dangerouslySetInnerHTML:{__html:`(${H.toString()})(${f})`}})});const J=({...r})=>{const{theme:t="system"}=B();return a.jsx(D,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})};function Vt({categories:r,item:t}){const{data:l,setData:m,errors:d,put:s}=b({id:t.id,item_name:t.item_name,brand:t.brand,category_id:t.category_id,purchase_price:t.purchase_price,selling_price:t.selling_price,is_active:t.is_active,status:t.status,image_path:t.image_path,description:t.description,variants:t.variants}),[p,u]=n.useState(t.variants),[i,h]=n.useState(!1),{setData:f,data:v,reset:_}=b({item_id:t.id,name:"",minimum_stock:0,stock:0,additional_price:0,sku:""});n.useEffect(()=>{u(t.variants)},[t.variants]);const e=(o,c)=>{m(j=>({...j,[o]:c}))},g=(o,c,j)=>{u(I=>I.map(V=>V.id===j?{...V,[o]:c}:V))},x=o=>{o.preventDefault(),w.post(route("item.variant.store",{item:t.id}),{...v},{onFinish:()=>{_()}})},S=(o,c)=>{w.delete(route("item.variant.destroy",{item:t.id,variant:c}),{onFinish:()=>{o()}})},y=(o,c)=>{s(route("item.update",{item:t.id}),{onFinish:()=>{c()}})},A=[{title:"Item Management",href:"/item"},{title:"Add Item",href:"/item/add"}];return n.useEffect(()=>{m(o=>({...o,variants:p}))},[p]),a.jsxs(C,{breadcrumbs:A,children:[a.jsx(k,{title:"Add Item"}),a.jsxs(T,{children:[a.jsx(L,{data:l,handleItemChange:e,categories:r,errors:d}),a.jsxs(U,{setShowAddVariant:h,children:[i&&a.jsx(E,{newVariant:v,setShowAddVariant:h,handleAddVariant:x,setNewVariant:f}),a.jsx($,{errors:d,variants:p,handleVariantChange:g,handleDeleteVariant:S})]}),a.jsxs(M,{children:[a.jsx(N,{data:l,handleItemChange:e}),a.jsx(F,{handleUpdate:y})]}),a.jsx(J,{})]})]})}export{Vt as default};
